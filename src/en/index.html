<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Pikachu Volleyball P2P Online</title>
    <meta
      name="description"
      content="Play the game Pikachu Volleyball online via P2P (peer-to-peer) connection"
    />
    <meta name="author" content="Lee, Kyutae" />

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../resources/assets/images/IDI_PIKAICON-0.png"
    />
  </head>
  <body>
    <div id="before-connection">
      <div id="about-box-head">
        <h1>Pikachu Volleyball P2P Online</h1>
        <p class="languages">
          &check; English |
          <a href="../ko/" target="_self">Korean(한국어)</a>
        </p>
        <p class="offline-version">
          You can play
          <a
            href="https://gorisanson.github.io/pikachu-volleyball/en/"
            target="_blank"
            rel="noopener"
            >the offline web version here</a
          >.
        </p>
        <p class="original-by">
          The original Pikachu Volleyball (対戦ぴかちゅ～　ﾋﾞｰﾁﾊﾞﾚｰ編) was
          developed by<br />
          1997 (C)
          <span class="no-wrap">SACHI SOFT / SAWAYAKAN Programmers</span><br />
          1997 (C) <span class="no-wrap">Satoshi Takenouchi</span>
        </p>
        <p class="reverse-engineered-by">
          The original game was reverse engineered and implemented into<br />
          this P2P (peer-to-peer) online version by<br />
          <span class="no-wrap"
            ><a
              href="https://github.com/gorisanson"
              target="_blank"
              rel="noopener"
              >Lee, Kyutae</a
            ></span
          >
        </p>
        <p class="source-code-on">
          You can view the source code on
          <a
            href="https://github.com/gorisanson/pikachu-volleyball-p2p-online"
            target="_blank"
            rel="noopener"
            >GitHub</a
          >
        </p>
        <p class="release-date">
          Release Date: 2020-04-08
        </p>
        <p class="last-updated">
          Last Updated: 2020-04-09
        </p>
      </div>
      <div id="about-box-content">
        <div>
          <p><span class="thick">How to play online:</span></p>
          <p>
            Latest version of the web browser is recommended.
            <a
              href="https://caniuse.com/#feat=mdn-api_rtcdatachannel"
              target="_blank"
              rel="noopener"
              >Here's the list of the supported browser (indicated by green
              color).</a
            >
            Latest version of iOS Safari is also supported but the list seems to
            be not updated yet.
          </p>
          <p>
            <span class="thick">Room Creater</span> - Click "create room"
            button. Then, send the Room ID (via messenger, email or whatever) to
            the one ("Joiner") you want to play this game online with.
          </p>
          <p>
            <span class="thick">Joiner</span> - Copy and paste the received Room
            ID into the text input box left of the "join room" button, and click
            the "join room" button. Then connection process will be started.
          </p>
          <p>
            If the connection is established successfully, the game will be
            started. If the upper
            <span class="no-wrap">"2人でぴかちゅ~"</span> is selected, the room
            creater will play as player 1 (on the left side) and the joiner will
            play as player 2 (on the right side). If the lower
            <span class="no-wrap">"2人でぴかちゅ~"</span> is selected, it's the
            opposite.
          </p>
          <p>
            <span class="thick">Notice:</span> The connection will be
            established in about 5-10 seconds after the joiner clicked the "join
            room" button. If the game is not started after the waiting time, it
            indicates that the connection failed.
            <a href="https://webrtc.org/" target="_blank" rel="noopener"
              >WebRTC</a
            >
            &mdash; a technology this P2P online version utilizes &mdash; cannot
            establish a
            <a
              href="https://en.wikipedia.org/wiki/Peer-to-peer"
              target="_blank"
              rel="noopener"
              >peer-to-peer</a
            >
            connection under the following circumstances.<br />
            - If you are under a (corporate) firewall which blocks UDP ports<br />
            - If you are under an
            <a
              href="https://en.wikipedia.org/wiki/Network_address_translation#Methods_of_translation"
              target="_blank"
              rel="noopener"
              >symmetric NAT</a
            ><br />
            - if you are under 3G, 4G or LTE cellular network
          </p>
        </div>
      </div>
      <div>
        <div id="create-btn-with-created-room-id">
          <button type="button" id="create-btn">create room</button>
          <div id="created-room-id-container">
            <span class="margin-left-right">Room ID:</span>
            <span id="current-room-id"></span>
          </div>
        </div>
        <div id="room-id-with-join-btn">
          <label for="join-room-id">Room ID to join</label>
          <input type="text" id="join-room-id" maxlength="30" />
          <button type="button" id="join-btn">join room</button>
        </div>
      </div>
      <div id="current-room"></div>
      <div id="connection-log-container">
        <p>
          <span class="thick">Connection Log:</span>
        </p>
        <div id="connection-log" style="white-space: pre-line;"></div>
      </div>
    </div>
    <div id="flex-container" class="hidden">
      <div id="game-canvas-container">
        <div id="player1-chat-box" class="chat-box"></div>
        <div id="player2-chat-box" class="chat-box"></div>
        <div class="fade-in-box loading black" id="loading-box">
          <div>
            <p>Loading the game assets...</p>
            <div id="progress-bar-border">
              <div id="progress-bar" style="width: 0%;"></div>
            </div>
          </div>
        </div>
        <div class="fade-in-box peer-loading black" id="peer-loading-box">
          <div>
            <p>Waiting for the peer to load the game assets...</p>
          </div>
        </div>
        <div class="fade-in-box ping black" id="ping-box">
          <div>
            <p>Average ping: <span id="average-ping"></span> ms</p>
            <p>The game starts in <span id="starts-in"></span> seconds.</p>
          </div>
        </div>
        <div class="fade-in-box notice hidden" id="notice-disconnected">
          <p>
            Disconnected from the peer.
          </p>
          <button id="notice-disconnected-ok-btn" class="btn-in-box">OK</button>
        </div>
      </div>
      <div id="chat-input-here">
        <div id="chat-input-and-send-btn-container" class="hidden">
          <input type="text" id="chat-input" maxlength="50" />
          <button type="button" id="send-btn">send (Enter)</button>
        </div>
        <button id="chat-open-btn">Chat (Esc)</button>
      </div>
    </div>
  </body>
</html>
